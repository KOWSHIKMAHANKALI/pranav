{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PopularBooks(){const[bookNames,setBookNames]=useState([]);const[authors,setAuthors]=useState([]);const[images,setImages]=useState([]);const[votes,setVotes]=useState([]);const[ratings,setRatings]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{axios.post(`https://cjvajdcsse.execute-api.us-east-1.amazonaws.com/prod/getPopularBooks`,{operation:\"getPopularBooks\"}).then(response=>{console.log(\"API Response:\",response.data);const body=JSON.parse(response.data.body);// Parse the JSON string\nconst{book_name,author,image,votes,rating}=body;setBookNames(book_name||[]);setAuthors(author||[]);setImages(image||[]);setVotes(votes||[]);setRatings(rating||[]);setLoading(false);}).catch(error=>{console.error(\"Error fetching popular books:\",error);setError(\"Failed to load popular books. Please try again later.\");setLoading(false);});},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6 text-center\",children:\"Loading popular books...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6 text-center text-red-500\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-6 text-center\",children:\"Top 50 Books\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",children:bookNames.length>0?bookNames.map((bookName,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 text-white p-6 rounded-lg shadow-lg transition transform hover:-translate-y-1 hover:shadow-2xl\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-full h-64 object-cover rounded-lg mb-4\",src:images[index],alt:bookName}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-2\",children:bookName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg mb-2\",children:authors[index]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Votes: \",votes[index]]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Rating: \",ratings[index]?ratings[index].toFixed(2):\"N/A\"]})]})]},index)):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-400\",children:\"No popular books found.\"})})]});}export default PopularBooks;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","PopularBooks","bookNames","setBookNames","authors","setAuthors","images","setImages","votes","setVotes","ratings","setRatings","loading","setLoading","error","setError","post","operation","then","response","console","log","data","body","JSON","parse","book_name","author","image","rating","catch","className","children","length","map","bookName","index","src","alt","toFixed"],"sources":["/Users/purnanandhkariyavula/Documents/cloudreads/src/components/PopularBooks.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nfunction PopularBooks() {\n    const [bookNames, setBookNames] = useState([]);\n    const [authors, setAuthors] = useState([]);\n    const [images, setImages] = useState([]);\n    const [votes, setVotes] = useState([]);\n    const [ratings, setRatings] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        axios.post(`https://cjvajdcsse.execute-api.us-east-1.amazonaws.com/prod/getPopularBooks`, { operation: \"getPopularBooks\" })\n            .then(response => {\n                console.log(\"API Response:\", response.data);\n                const body = JSON.parse(response.data.body); // Parse the JSON string\n                const { book_name, author, image, votes, rating } = body;\n\n                setBookNames(book_name || []);\n                setAuthors(author || []);\n                setImages(image || []);\n                setVotes(votes || []);\n                setRatings(rating || []);\n                setLoading(false);\n            })\n            .catch(error => {\n                console.error(\"Error fetching popular books:\", error);\n                setError(\"Failed to load popular books. Please try again later.\");\n                setLoading(false);\n            });\n    }, []);\n\n    if (loading) {\n        return <div className=\"p-6 text-center\">Loading popular books...</div>;\n    }\n\n    if (error) {\n        return <div className=\"p-6 text-center text-red-500\">{error}</div>;\n    }\n\n    return (\n        <div className=\"p-6\">\n            <h1 className=\"text-4xl font-bold mb-6 text-center\">Top 50 Books</h1>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {bookNames.length > 0 ? (\n                    bookNames.map((bookName, index) => (\n                        <div key={index} className=\"bg-gray-800 text-white p-6 rounded-lg shadow-lg transition transform hover:-translate-y-1 hover:shadow-2xl\">\n                            <img className=\"w-full h-64 object-cover rounded-lg mb-4\" src={images[index]} alt={bookName} />\n                            <h3 className=\"text-2xl font-bold mb-2\">{bookName}</h3>\n                            <p className=\"text-lg mb-2\">{authors[index]}</p>\n                            <div className=\"flex justify-between items-center\">\n                                <p className=\"text-sm\">Votes: {votes[index]}</p>\n                                <p className=\"text-sm\">Rating: {ratings[index] ? ratings[index].toFixed(2) : \"N/A\"}</p>\n                            </div>\n                        </div>\n                    ))\n                ) : (\n                    <p className=\"text-center text-gray-400\">No popular books found.</p>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default PopularBooks;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}